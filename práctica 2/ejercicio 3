{3.- Implementar un programa que invoque a los siguientes módulos.
a. Un módulo recursivo que retorne un vector de 20 números enteros “random” mayores a 300
y menores a 1550 (incluidos ambos).
b. Un módulo que reciba el vector generado en a) y lo retorne ordenado. (Utilizar lo realizado
en la práctica anterior)
c. Un módulo que realice una búsqueda dicotómica en el vector, utilizando el siguiente
encabezado:
Procedure busquedaDicotomica (v: vector; ini,fin: indice; dato:integer; var pos: indice);
Nota: El parámetro “pos” debe retornar la posición del dato o -1 si el dato no se encuentra
en el vector.}
program ejercicio3;
const
	dfvector = 20;
type
	rangovector = 1..dfvector;
	
	vector = array [rangovector] of integer;
	
procedure cargarvector(var v: vector; i: integer);
var
	aleatorio: integer; 
begin
	aleatorio := random(1251) + 300;
	if (i <= dfvector) then begin
			v[i] := aleatorio;
			cargarvector(v, i + 1);
	end;
end;

procedure imprimovectorporlasdudas(v: vector);
var
	i: rangovector;
begin
	for i := 1 to dfvector do 	
		writeln('El numero del elemento: ', i, ' del vector, es: ', v[i]);
end;


procedure ordenoporinsercion(var v: vector);
var
	i, j, act: integer;
begin
	for i := 2 to dfvector do begin 
		act := v[i];
		j := i - 1;
		while (j > 0) and (v[j] > act) do begin 
			v[j + 1] := v[j];
			j := j - 1;
		end;
		v[j + 1] := act;
	end;
end;

//Nota: El parámetro “pos” debe retornar la posición del dato o -1 si el dato no se encuentra en el vector. 
procedure busquedaDicotomica (v: vector; ini, ult, dato: integer; var pos: integer);
var	
	medio: integer;
begin
	medio := (ini + ult) div 2;
	while (ini <= ult) and (dato <> v[medio]) do begin 
		if (dato < v[medio]) then 
			ult := medio - 1
		else
			ini := medio + 1;
		medio := (ini + ult) div 2;
	end;
	if (ini <= ult) and (dato = v[medio]) then 
		pos := medio 
	else
		pos := -1;
end;

//programa principal
var
	v: vector;
	i, dato, pos, inicio: integer;
begin
	Randomize;
	i := 1;
	cargarvector(v, i);
	imprimovectorporlasdudas(v);
	
	ordenoporinsercion(v);
	writeln('El vector ordenado mediante insercion quedaria: ');
	imprimovectorporlasdudas(v);
	
	writeln('Ingrese el numero que se quiere buscar en el vector: ');
	readln(dato);
	inicio := 1; 
	busquedaDicotomica(v, inicio, dfvector, dato, pos);
	writeln(pos);
end.

